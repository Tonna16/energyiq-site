<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EnergyIQ — Forecasting Demo</title>

    <meta name="description" content="EnergyIQ — Appliance-level energy monitoring with custom time-series forecasting and real-time alerts. Hand-implemented Holt and Holt-Winters models." />
    <meta property="og:title" content="EnergyIQ — Smart Energy Monitoring & Forecasting" />
    <meta property="og:description" content="Appliance-level energy monitoring with custom forecasting and real-time alerts. Hand-implemented Holt & Holt-Winters models." />
    <meta property="og:image" content="insights.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="EnergyIQ — Smart Energy Monitoring & Forecasting" />
    <meta name="twitter:description" content="Appliance-level energy monitoring with custom forecasting and real-time alerts. Hand-implemented Holt & Holt-Winters models." />
    <meta name="twitter:image" content="insights.png" />

    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E⚡%3C/text%3E%3C/svg%3E" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

    <style>
      :root{
        --primary:#0ea5e9;
        --primary-dark:#0284c7;
        --accent:#f59e0b;
        --text:#0f172a;
        --muted:#64748b;
        --card:#f8fafc;
        --border:#e2e8f0;
        --shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06);
        --shadow-lg:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);
      }
      *{box-sizing:border-box}
      body{font-family:'Inter',system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;background:linear-gradient(135deg,#fff 0%,#f1f5f9 100%);color:var(--text);margin:0;min-height:100vh;line-height:1.6}
      .container{max-width:1200px;margin:0 auto;padding:0 24px}
      header{background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;padding:24px 0}
      .header-content{display:flex;justify-content:space-between;align-items:center;gap:32px}
      .logo-section{display:flex;align-items:center;gap:16px}
      .logo{width:48px;height:48px;background:linear-gradient(135deg,var(--primary),var(--accent));border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff;box-shadow:var(--shadow)}
      h1{margin:0;font-size:28px;font-weight:700;background:linear-gradient(135deg,var(--primary),var(--primary-dark));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
      .subtitle{color:var(--muted);font-size:16px;margin-top:4px}
      .contact-info{display:flex;gap:24px;font-size:14px}
      .contact-item{text-align:right}
      .contact-item a{color:var(--primary);text-decoration:none}
      main{padding:48px 0}
      .grid{display:grid;gap:24px}
      .hero-grid{grid-template-columns:2fr 1fr;margin-bottom:48px}
      .features-grid{grid-template-columns:repeat(auto-fit,minmax(320px,1fr))}
      .card{background:#fff;border-radius:16px;padding:28px;box-shadow:var(--shadow);border:1px solid var(--border);transition:transform .18s,box-shadow .18s}
      .card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
      .demo-card{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff}
      .demo-card h2{color:#fff}
      .stats-card{background:linear-gradient(135deg,var(--accent),#f59e0b);color:#fff;text-align:center}
      iframe{width:100%;height:320px;border:0;border-radius:12px;box-shadow:var(--shadow)}
      .screenshot-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:20px}
      img{width:100%;height:auto;border-radius:8px;border:1px solid var(--border);box-shadow:var(--shadow)}
      pre{background:var(--card);padding:16px;border-radius:8px;border:1px solid var(--border);overflow:auto;font-family:monospace}
      ul{margin:16px 0;padding-left:20px}
      li{margin-bottom:8px;color:var(--muted)}
      .small{font-size:14px;color:var(--muted)}
      footer{background:var(--card);border-top:1px solid var(--border);padding:32px 0;margin-top:64px;text-align:center;color:var(--muted);font-size:14px}
      .badge{display:inline-block;background:var(--primary);color:#fff;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:500;margin-bottom:12px}
      .metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:18px 0}
      .metric{padding:16px;border-radius:8px}
      .metric-value{font-size:26px;font-weight:800;color:#fff;display:block}
      .metric-label{font-size:13px;color:rgba(255,255,255,0.95);margin-top:6px}
      /* readability improvements */
      .timestamps-box{background:rgba(0,0,0,0.28);padding:12px;border-radius:10px;margin-top:14px}
      .timestamps-box ul{margin:8px 0 0 18px;padding-left:0;color:#fff}
      .timestamps-box li{color:#fff;font-size:15px;line-height:1.4;margin-bottom:8px}
      .timestamps-title{font-weight:700;color:#fff;margin-bottom:6px;display:block}
      .demo-card .small{color:rgba(255,255,255,0.95)}
      .stats-card .small{color:rgba(255,255,255,0.95)}
      .tech-list li{color:var(--muted);margin-bottom:6px}
      .code{font-family:monospace;background:var(--card);padding:8px;border-radius:6px;display:block}
      @media (max-width:768px){
        .hero-grid,.header-content{grid-template-columns:1fr}
        iframe{height:240px}
        .metrics{grid-template-columns:1fr}
        .card{padding:20px}
        h1{font-size:24px}
      }
    </style>
  </head>

  <body>
    <header>
      <div class="container">
        <div class="header-content">
          <div class="logo-section">
            <div class="logo">⚡</div>
            <div>
              <h1>EnergyIQ</h1>
              <div class="subtitle">Smart energy monitoring with custom time-series forecasting</div>
            </div>
          </div>

          <div class="contact-info">
            <div class="contact-item">
              <strong>Repository</strong>
              <a href="https://github.com/tonna16/TrackEnergy" target="_blank">github.com/tonna16/TrackEnergy</a>
            </div>
            <div class="contact-item">
              <strong>Contact</strong>
              <a href="mailto:ttonnaagburu@gmail.com">ttonnaagburu@gmail.com</a>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="container">
        <div class="grid hero-grid">
          <div class="card demo-card">
            <div class="badge">Live Demo</div>
            <h2>Watch EnergyIQ in Action</h2>
            <p class="small" style="color:rgba(255,255,255,0.95);margin-bottom:16px">
              5-minute demonstration showing dashboard analytics, custom forecasting, real-time alerts, and appliance monitoring.
            </p>

            <iframe src="https://www.youtube.com/embed/tlNz26ZmPZE" title="EnergyIQ Demo" allowfullscreen></iframe>

            <div class="timestamps-box" role="note" aria-label="video timestamps">
              <span class="timestamps-title">Video timestamps</span>
              <ul>
                <li>0:00–2:20 — Dashboard: appliance management, energy usage chart, four dashboard cards (daily usage, efficiency %, tips, forecasted daily cost).</li>
                <li>2:20–2:42 — Settings: household size, electricity rate, dark mode, currency selection (USD/EUR).</li>
                <li>2:42–3:24 — Compare page: community & national comparisons and efficiency letter grade.</li>
                <li>3:24–4:31 — Insights: estimated annual cost, carbon footprint, daily usage cards; per-appliance weekly cost forecasts and end-of-week actual vs forecast comparison; top energy consumers list.</li>
                <li>4:31–4:56 — Conclusion and future goals.</li>
              </ul>
            </div>
          </div>

          <div class="card stats-card">
            <h3 style="color:#fff;margin-top:0">Representative metrics</h3>
            <p class="small" style="color:rgba(255,255,255,0.95);margin-bottom:12px">Demonstration metrics from a 30-day simulated dataset. Actual performance depends on user data.</p>
            <div class="metrics" aria-hidden="false">
              <div class="metric">
                <span class="metric-value">0.24</span>
                <span class="metric-label">MAE (kWh)</span>
              </div>
              <div class="metric">
                <span class="metric-value">0.36</span>
                <span class="metric-label">RMSE (kWh)</span>
              </div>
              <div class="metric">
                <span class="metric-value">4.8%</span>
                <span class="metric-label">MAPE</span>
              </div>
            </div>
            <p class="small" style="color:rgba(255,255,255,0.95);margin-top:8px">Note: metrics are labeled demonstration values. See README for methodology and backtest instructions.</p>
          </div>
        </div>

        <div class="grid features-grid">
          <div class="card">
            <h3>Technical stack</h3>
            <ul class="feature-list">
              <li>React + TypeScript frontend with Tailwind CSS</li>
              <li>Spring Boot + JPA backend with PostgreSQL / H2</li>
              <li>Real-time WebSocket notifications</li>
              <li>JWT authentication and guest mode</li>
              <li>Hand-implemented Holt Linear and Holt-Winters models</li>
            </ul>
          </div>

          <div class="card">
            <h3>Forecasting engine</h3>
            <p class="small">Model selection is data-driven. For appliance history &lt; 14 days EnergyIQ uses Holt Linear (level + trend). For history ≥ 14 days it uses Holt-Winters additive with a 7-day season. New appliances use a wattage × hours/day fallback with seasonal multipliers and bounded noise. Forecasts are capped to avoid unrealistic spikes.</p>

            <h3 style="margin-top:18px">Technical details (brief)</h3>
            <ul class="tech-list">
              <li><strong>Parameters:</strong> α = 0.5, β = 0.3, γ = 0.2. season length = 7. max cap = 50 kWh/day. aggregate tolerance = 15%.</li>
              <li><strong>Backtest:</strong> rolling 30-day backtest for daily predictions. Evaluate with MAE, RMSE, MAPE.</li>
              <li><strong>Fallback:</strong> wattage × hours/day with month-based seasonal multipliers and noise (0.95–1.05).</li>
              <li><strong>Trend factor:</strong> computed from recent 30 days. Clamped to [0.9, 1.1].</li>
              <li><strong>Limitations:</strong> short histories, seasonal heating/cooling shifts, sensor error, user-entered wattage inaccuracies.</li>
              <li><strong>Implementation:</strong> <code class="code">src/main/java/com/util/TimeSeriesForecaster.java</code></li>
            </ul>
          </div>

          <div class="card">
            <h3>Screenshots</h3>
            <div class="screenshot-grid" style="margin-top:12px;">
              <div class="screenshot-item"><strong>Dashboard</strong><img src="dashboard.png" alt="EnergyIQ dashboard screenshot" /></div>
              <div class="screenshot-item"><strong>Appliances</strong><img src="appliance.png" alt="Appliance management screenshot" /></div>
              <div class="screenshot-item"><strong>Forecasting</strong><img src="insights.png" alt="Actual vs forecast screenshot" /></div>
            </div>
            <p class="small" style="margin-top:12px">Images are expected next to this HTML file in the repo root. If you prefer an <code>/images</code> folder update the paths accordingly.</p>
          </div>

          <div class="card">
            <h3>Quick setup</h3>
            <p class="small">Clone and run the backend, then start the frontend. H2 works for demo mode.</p>
            <pre class="code">git clone https://github.com/tonna16/TrackEnergy
cd TrackEnergy/backend
mvn spring-boot:run

# in separate terminal
cd TrackEnergy/frontend
npm install && npm run dev</pre>
          </div>

          <div class="card">
            <h3>Reproducibility & API (how to test)</h3>
            <p class="small">Start the backend. Use the controller endpoints below to reproduce projections and forecasts. Authentication returns user-specific forecasts when a valid session/token is provided. Guest flows use provided appliance data in the POST body and fall back to deterministic estimates.</p>

            <h4 class="small">Key endpoints</h4>
            <ul class="tech-list">
              <li><code>GET /api/energy-usage/projections?timeRange=daily|weekly|monthly</code> — authenticated user projections (GET).</li>
              <li><code>POST /api/energy-usage/projections?timeRange=daily|weekly|monthly</code> — guest projections. Supply a JSON array of appliances in the request body.</li>
              <li><code>GET /api/energy-usage/forecasted-daily-cost</code> — one-day cost estimate (returns fallback for guests).</li>
              <li><code>GET /api/energy-usage/annual-cost</code> — 12-month cost projection (returns fallback for guests).</li>
              <li><code>POST /api/energy-usage?applianceId=&lt;id&gt;&date=&lt;YYYY-MM-DD&gt;&kWhUsed=&lt;value&gt;</code> — log manual usage (authenticated).</li>
              <li><code>GET /api/energy-usage/daily-usage?day=today|yesterday</code> — total kWh for a day (guest returns 0.0).</li>
            </ul>

            <h4 class="small">Example calls</h4>

            <p class="small"><strong>Guest projections (no auth)</strong> — send appliances in body:</p>
            <pre class="code">curl -X POST "http://localhost:8080/api/energy-usage/projections?timeRange=daily" \
  -H "Content-Type: application/json" \
  -d '[{"name":"Fridge","wattage":150,"hoursPerDay":24},{"name":"TV","wattage":100,"hoursPerDay":4}]'
</pre>

            <p class="small"><strong>Authenticated user projections (GET)</strong> — requires valid auth/session. Example using a token:</p>
            <pre class="code">curl -H "Authorization: Bearer &lt;JWT&gt;" \
  "http://localhost:8080/api/energy-usage/projections?timeRange=weekly"
</pre>

            <p class="small"><strong>Forecasted daily cost (guest or auth)</strong> — backend returns fallback for guests:</p>
            <pre class="code">curl "http://localhost:8080/api/energy-usage/forecasted-daily-cost"</pre>

            <p class="small">For backtesting reproduce a rolling 30-day evaluation by calling the projections/forecast endpoints against your test dataset or by running unit tests that exercise <code>TimeSeriesForecaster</code>. See <code>src/main/java/com/util/TimeSeriesForecaster.java</code> and <code>src/main/java/com/energytracker/service/EnergyUsageService.java</code>.</p>
          </div>

          <div class="card">
            <h3>Roadmap</h3>
            <ul class="roadmap-list">
              <li>Smart-plug & meter API integrations</li>
              <li>Adaptive per-home learning models</li>
              <li>PWA / mobile improvements</li>
              <li>Public beta to validate forecasts with real users</li>
            </ul>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <div class="container">
        <div><strong>EnergyIQ (TrackEnergy)</strong> — Created by Tonna Agburu</div>
        <div style="margin-top:8px;">
          <a href="mailto:ttonnaagburu@gmail.com">ttonnaagburu@gmail.com</a> •
          <a href="https://github.com/tonna16/TrackEnergy" target="_blank">View Source</a> • MIT License
        </div>
      </div>
    </footer>
  </body>
</html>
